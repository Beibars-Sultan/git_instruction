![logo](Git-Logo-1788C.png)
# Работа с Git

## 1. Проверка наличия установленного Git
В терминале выполнить команду **git --version**.

Если Git установлен, появится сообщение с информацией о версии программы. Иначе будет сообщение об ошибке.

## 2. Установка Git
Загружаем последнюю версию Git c сайта https://git-scm.com/downloads

Устанавливаем с настройками по умолчанию

## 3. Настройка Git
При первом использовании Git необходимо представиться.

 Для этого нужно ввести в терминале 2 команды:
 ```
 git config --global user.name «Ваше имя английскими буквами»

 git config --global user.email ваша почта@example.com
```
Ваше имя и почта отобразяться в журнале фиксаций изменений репозитроия. Кто внес изменения (имя автора, почта, дата внесения изменений).

Журнал фиксаций изменений в репозитории можно вызвать с помощью команд:
```
git log - полная версия журнала фиксаций со всеми фиксациями
git log --oneline - компактная версия журнала фиксаций со всеми фиксациями
```
### Визуальный интерфейс
 Существуют дополнительные программы для облегчения использования Git. Некоторые текстовые редакторы или полноценные среды разработки уже включают в себя вспомогательный интерфейс для работы с ним.

 __Но существуют и отдельные программы по работе с Git. Могу посоветовать эти:__

* https://desktop.github.com/
* https://www.sourcetreeapp.com/
* https://code.visualstudio.com/

## 4. Инициализация репозитория
Первым делом проверим наличие репозитория с помощью команды -  **git status** (вводим непосредственно в терминал редактора)

Если репозитория нет, появится строка с информацией об отсутствии репозитория. Если репозиторий есть появится строка с информацией о наличии репозитория с указанием папки в которой он был инициализирован.

**Для инициализации репозитория надо :** 

### 1. Выбрать папку из которой вы хотите сделать репозиторий :
 Для этого создаем пустую папку на рабочем столе с названием нашего проекта (git education в моём случае)

### 2.  Добавляем папку в редактор VS Code: 
 Для этого в левом меню редактора выберем функцию "добавить папку". 

 Находим нашу папку и добавляем ее в редактор

 ### 3. Инициализация репозитория :
 Для инициализации репозитория вводим в терминале команду -  **git init** 

### 4. Проверка наличия репозитория :
С помощью команды - **git status** проверяем наличие репозитория. При успешной инициализации, в терминале появится строка с информацией о инициализации пустой репозитории (git education в моем случае) и указывает в какой папке он инициализирован. При неверной инициализации репозитория, терминал выдаст ошибку.

 ## 5. Запись изменений в репозиторий 
Создадим в репозитории файл в котором будем работать с нашим проектом и в который будем вносить все наши изменения, правки и т.д; 

Для создания файла, наводим курсор на репозиторий, при наведении курсора на репозиторий высветится иконки, выбрать иконку -  "Создать новый файл". При нажатии на данную иконку, появится пустое окошко для названия вашего файла. Вводим имя файла с расширением.

**Важно** - файл обязательно должен быть с расширением (для Git не важно какое расширение Вы будете использовать). В моем случае используется расширение  `.md` - MarcDown.

__Альтернативные способы создания нового файла в репозитории:__

1. В меню редактора VS Code, расположенного в левом верхнем углу редактора - выбрать пункт "Файл" - "Новый файл" - ввести имя файла - нажать "Enter".
2. Вызвать контекстное меню c помощью правой кнопки мыши. Выбрать в появившемся окошке "Новый файл" - ввести имя файла - нажать "Enter".

### Добавление файла в репозиторий :
1. С помощью команды - **git status**, проверим текущее состояние репозитория. На данном этапе у Вас сам репозиторий и неотслеживаемый файл.

2. С помощью команды - **git add** "имя файла" - добавим наш файл в репозиторий для отслеживания. Можно не вводить имя файла полностью, достаточно ввести первые две-три буквы из имени файла и нажать клавишу - "Tab" - табуляция (имя сохраненного файла напечатается автоматически). При правильном выполнении, терминал никак не отреагирует.
При неправильном выполнении, терминал выдаст ошибку. 

3. С помощью команды **git status** , снова проверяем текущее состояние репозитория. Если все сделано правильно, на данном этапе у Вас должна появиться информация об изменение в репозитории в виде добавления нового отслеживаемого файла.

### Фиксация изменений в репозитории :
 1. После выполнения всех манипуляций с Вашим файлом (правка, дополнение, исправление ошибок и т.д и т.п) , с помощью команды -  **git add** "имя файла" - подготавливаем наши изменения к фиксации
 2. С помощью команды **git commit -m** "Коментарий к фиксации" - фиксируем текущее состояние нашего файла с текстовым напоминанием.
 
**Примечание :**

 Не путать commit (фиксация) c comment (комментарий) - это совершенно разные понятия.

Комментарии обязательно оставлять в кавычках, иначе Git не распознаст команду.

Не задавать команду - **git commit** , не зная дальнейших инструкций.

3. С помощью команды -  **git status** - проверяем фиксацию изменений в файле.

### Проверка различия текущего файла от последнего зафиксированного :

1. С помощью команды - **git diff** - можно проверить различие текущего файла от последнего зафиксированного. Удаленные изменения отобразятся в терминале красным шрифтом с пометкой "-" в начале. Добавленные изменения отобразятся в терминале зеленым шрифтом с пометкой "+" в начале.

2. Перемещяемся по журналу с помощью стрелок "вверх" и "вниз".

3. Для выхода из журнала нажимаем клавишу "Q" на клавиатуре. 

## 6. Просмотр историй фиксации
Для просмотра историй фиксаций в репозитории
в терминале вводим команду - **git log** или **git log --oneline .**

После ввода команды - **git log** , появится полный вид журнал со всеми сохраненными фиксациями. У каждой фиксации есть свой собственный номер (Hash code - набор цифр и букв, длинною 40 символов). Так же появится информация о пользователе внесшим фиксации - его Имя, почта и дата внесения фиксации.

После ввода команды - **git log --oneline** , появится компактный вид журнала со всеми сохраненными фиксациями. Hash code в данном случае будет составлять 7 символов.

## 7. Перемещение между сохраненными фиксациями
Для перемещения между сохраненными фиксациями нам понадобится команда **git checkout** пробел _Hash code_ фиксации. 

_Hash code_ фиксации можно посмотреть с помощью команды **git log** (40 символов) или **git log -- oneline** (7 символов)

После ввода команды **git checkout** пробел _Hash code_ фиксации - Вы переместитесь к состоянию файла на данном моменте фиксации.  

После внесения изменений в файл на данном моменте фиксации его необходимо сохранить и  подготовить изменения к фиксации с помощью команды -  **git add** "имя файла.md"

Затем с помощью команды - **git commit -m** "комментарий к фиксации" , фиксируем наши изменения в репозитории. 

Для возврата к актуальному состоянию файла, вводим команду **git checkout master** или **git switch -** .

## 8. Игнорирование файла
Игнорируемый файл — файл, явным образом помеченный для Git как файл, который необходимо игнорировать.

Игнорируемые файлы — это, как правило, артефакты сборки и файлы, генерируемые машиной из исходных файлов в вашем репозитории, либо файлы, которые по какой-либо иной причине не должны попадать в коммиты.

Игнорируемые файлы отслеживаются в специальном файле __.gitignore__ , который регистрируется в корневом каталоге репозитория. В Git нет специальной команды для указания игнорируемых файлов: вместо этого необходимо вручную отредактировать файл __.gitignore__ , чтобы указать в нем новые файлы, которые должны быть проигнорированы. Файлы __.gitignore__ содержат шаблоны, которые сопоставляются с именами файлов в репозитории для определения необходимости игнорировать эти файлы.

Для того чтобы исключить из отслеживания в репозитории определенной папки или файла необходимо создать там файл
 ***.gitignore***
 и записать в него их названия или шаблоны, соответствующие таким файлам или папкам.
### __Игнорирование файлов в Git:__
* https://www.atlassian.com/ru/git/tutorials/saving-changes/gitignore#git-ignore-patterns - Шаблоны игнорирования в Git
* https://www.atlassian.com/ru/git/tutorials/saving-changes/gitignore#shared - Общие файлы .gitignore в вашем репозитории
* https://www.atlassian.com/ru/git/tutorials/saving-changes/gitignore#personal-git-ignore-rules - Персональные правила игнорирования в Git
* https://www.atlassian.com/ru/git/tutorials/saving-changes/gitignore#global-git-ignore-rules - Глобальные правила игнорирования в Git
* https://www.atlassian.com/ru/git/tutorials/saving-changes/gitignore#ignoring-a-previously-committed - Игнорирование ранее закоммиченного файла
* https://www.atlassian.com/ru/git/tutorials/saving-changes/gitignore#committing-an-ignored-file - Коммит игнорируемого файла
* https://www.atlassian.com/ru/git/tutorials/saving-changes/gitignore#stashing-an-ignored-file - Скрытие изменений в игнорируем файле
* https://www.atlassian.com/ru/git/tutorials/saving-changes/gitignore#debugging - Отладка файлов .gitignore

## 9. Создание веток в Git
Возможность ветвления доступна в большинстве современных систем контроля версий. Однако эта операция в ряде систем может быть довольно затратной как по времени, так и по объему дискового пространства. В Git ветки — это элемент повседневного процесса разработки. По сути ветки в Git представляют собой указатель на снимок изменений. Если нужно добавить новую возможность или исправить ошибку (незначительную или серьезную), вы создаете новую ветку, в которой будут размещаться эти изменения.

По умолчанию имя основной ветки в Git - **master** или **main** 

Git предлагает облегченную реализацию веток по сравнению с другими системами контроля версий. Вместо того чтобы копировать файлы из каталога в каталог, Git хранит ветку в виде ссылки на коммит. Получается, что ветка представляет собой вершину серии коммитов, а не контейнер для коммитов. История ветки распространяется через иерархические отношения с другими коммитами.

Ветка представляет собой отдельное направление разработки. Ветки выступают в качестве абстрактного представления для процесса редактирования/индексации/коммита. Можно рассматривать их как способ запросить новый рабочий каталог, раздел проиндексированных файлов и историю проекта. Новые коммиты записываются в историю текущей ветки, что приводит к образованию развилки в истории проекта.

Создать ветку можно командой:
```
 git branch <имя новой ветки>
```
Команда __git branch__ позволяет создавать, просматривать, переименовывать и удалять ветки. Она не дает возможности переключаться между ветками или выполнять слияние разветвленной истории. Именно поэтому команда __git branch__ тесно связана с командами __git checkout__ и __git merge__.

Важно понимать, что ветки — это просто указатели на коммиты. Когда вы создаете ветку, Git просто создает новый указатель. Репозиторий при этом никак не изменяется.

**Обратите внимание: эта команда только создает новую ветку. Чтобы добавить в эту ветку коммиты, необходимо выбрать ее с помощью команды __git checkout__ , а затем использовать стандартные команды ___git add___ и ___git commit___ .**
### Распространенные опции
```
git branch - Отображение списка веток в репозитории. Это синоним команды git branch --list.
```
```
git branch <branch>
Создание новой ветки с именем ＜ветка＞. Эта команда не выполняет переключение на эту новую ветку.
```
```
git branch -d <branch>
Удаление указанной ветки. Это «безопасная» операция, поскольку Git не позволит удалить ветку, если в ней есть неслитые изменения.
```
```
git branch -D <branch>
Принудительное удаление указанной ветки, даже если в ней есть неслитые изменения. Эта команда используется, если вы хотите навсегда удалить все коммиты, связанные с определенным направлением разработки.
```
```
git branch -m <branch> - Изменение имени текущей ветки на ＜ветка＞.
```
```
git branch -a - Вывод списка всех удаленных веток.
```
### Удаление веток
После того как вы завершите работу в ветке и сольете ее с основной базой кода, эту ветку можно будет удалить без потери истории:
```
git branch -d "branc name"
```
Однако, если ветка не была слита, указанная выше команда выдаст сообщение об ошибке:
```
error: The branch "branch name" is not fully merged. If you are sure you want to delete it, run 'git branch -D "branch name".
```
Это защищает от потери доступа ко всему направлению разработки. Если вы действительно хотите удалить ветку (например, если эксперимент оказался неудачным), используйте флаг -D (с прописной буквой):
```
git branch -D branch name
```
Эта команда удаляет ветку независимо от ее состояния и не выдает никаких предупреждений, поэтому используйте ее с осторожностью.
 ## 10. Слияние веток и разрешение конфликта
 Слияние используется в Git, чтобы собрать воедино разветвленную историю. Команда __git merge__ выполняет слияние отдельных направлений разработки, созданных с помощью команды __git branch__ , в единую ветку.

Обратите внимание: все приведенные ниже команды выполняют слияние в текущую ветку. Команда __git merge__ часто используется в сочетании с командами __git checkout__ (для выбора текущей ветки) и __git branch -d__ (для удаления устаревшей целевой ветки).

 Для слияния выбранной ветки с текущей нужно выполнить команду 
 ```
 git merge название ветки
 ```
 Команда git merge объединяет несколько последовательностей коммитов в общую историю. Чаще всего команду git merge используют для объединения двух веток.
 ### Подготовка к слиянию
 Перед слиянием следует предпринять несколько подготовительных действий, чтобы операция прошла без проблем. 

_Проверка выбора принимающей ветки:_
```
Выполните команду git status. Это позволит убедиться, что HEAD указывает на ветку, принимающую результаты слияния. При необходимости выполните команду git checkout <принимающая-ветка>, чтобы переключиться на принимающую ветку. Для примера выполним команду git checkout master.
```
_Получение последних коммитов из удаленного репозитория:_
```
Убедитесь, что в принимающей ветке и ветке для слияния содержатся последние изменения из удаленного репозитория. Выполните команду git fetch, чтобы получить из него последние коммиты. Затем убедитесь, что в ветке main также содержатся последние изменения. Для этого выполните команду git pull.
```
_Выполнение слияния:_
```
После указанных выше действий по подготовке можете приступать к слиянию. Для этого выполните команду git merge <название ветки>, где <название ветки> — название ветки, которая будет объединена с принимающей.
```
### Разрешение конфликтов
При попытке объединить ветки, в которых изменена одна и та же часть того же файла, Git не сможет сделать выбор между версиями. В таком случае операция останавливается прямо перед созданием коммита слияния, чтобы пользователь вручную разрешил конфликты.

Когда Git обнаруживает конфликт в ходе слияния, к затронутым файлам добавляются визуальные индикаторы по обе стороны проблемного содержимого: <<<<<<<, ======= и >>>>>>>.
```
Обычно содержимое перед отметкой ======= относится к принимающей ветке, а все, что указано после нее, — к ветке, для которой выполняется слияние.
```
